<kb-bind [source]="source" method="GET" [model]="contacts" [reloadTrigger]="reload"></kb-bind>

<div class="contacts-wrapper">

    <div class="contact-block new" [routerLink]="[editContactURL]">
        <span style="font-size: 2rem"><b>+</b></span>
        <span>New Contact</span>
    </div>

    <div class="contact-block existing" *ngFor="let contact of contacts.data; let i = index">
        <div class="contact-loading" *ngIf="contactLoading === i">
            <span>loading...</span>
        </div>

        <div class="flex align-center justify-between" style="width: 100%">
            <p class="m0"><strong>{{contact.name}}</strong></p>
            <a href="javascript:void(0)" (click)="deleteContact(contact.id)" style="text-decoration: none">
                <span style="font-size: 1.5rem; color: darkred"><b>x</b></span>
            </a>
        </div>

        <p [innerHTML]="contact.htmlAddressLinesString"></p>
        <p style="margin-bottom: 0"><strong>Telephone: </strong>{{contact.telephoneNumber}}</p>
        <p><strong>Email: </strong>{{contact.emailAddress}}</p>

        <div style="width: 100%" class="flex align-center justify-between">
            <p class="flex align-center confirm1 m0" *ngIf="contact.defaultContact">
                <span>&#10004;</span>&nbsp;&nbsp;Default contact
            </p>
            <button class="but butsm" *ngIf="!contact.defaultContact"
                    (click)="makeDefault(contact.id)">
                Make Default
            </button>
            <a class="edit" [routerLink]="[editContactURL + '/' + contact.id]">
                Edit
            </a>
        </div>

    </div>

</div>
